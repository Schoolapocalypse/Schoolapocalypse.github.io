<!DOCTYPE html>
<html>
  <head>
    <title>My page title</title>
    <style>
#zombie_map {
    height: 100%;
    width: 100%;
    left: 0;
    position: absolute;
    top: 0;
    background-color: grey;
}
</style>
  </head>
  <script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmDHcTqk6fpNTgyU5Tey_ikTsoyTcnGl4&callback=initMap">
</script>
  <body>
  <div>
   my zombie map
    all_markers
    
<div id="zombie_map"></div>
    Items I want to appear on my page will go here
    <script>
    
      
    var data = `-37.672393 145.028626 Zombie1.png
    -37.671263 145.029561 Grath.png
    -37.672631 145.028733 Zombie2.png`;
    var markers = data.split("\n");
    var zombie_map;
      var all_markers = [];
    function initMap() {
      ////create map
      zombie_map = new google.maps.Map(document.getElementById('zombie_map'), {
            zoom: 18,
            center: {lat: -37.671837, lng: 145.029256}
      });
      if(navigator.geolocation) {
        navigator.geolocation.watchPosition(set_my_position);
      }
      else {
        alert("Geolocation doesn't work in your browser");
      }
      
      
      
      //function zombie_map(){
      //var pos = new google.maps.LatLng(-37.672631, 145.028733);
      
      //zombie_map();
      //place markers
     for(var i=0; markers.length; i++){
     var marker_data = markers[i].trim();
     marker_data = marker_data.split(" ");
     var latitude = marker_data[0];
       console.log(latitude);
     var longitude = marker_data[1];
       console.log(longitude)
     var emoji = marker_data[2];
       console.log(emoji)
     var marker_position = new google.maps.LatLng(latitude,longitude);
     var marker = new google.maps.Marker({
     position: marker_position,
     map: zombie_map,
       icon: emoji
});
       all_markers.push(marker);
     };
      
    }
      function set_my_position(position) {
      var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
        var player_emoji = "https://cdn.glitch.global/7aa0d2ef-d063-42ad-87de-86cf4db6de0a/player.png?v=1659571395440";
        var marker = new google.maps.Marker ({
          position: pos,
          map: zombie_map,
          icon: player_emoji
        });
      }
</script>
  </body>
</html>
